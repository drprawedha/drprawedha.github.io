<h3>Edit JSON Data</h3>
<textarea id="jsonEditor" style="width:100%; height:300px;"></textarea>
<button onclick="updateData()">Save</button>

<script>
  // Load pekerjaan.json
  fetch('pekerjaan.json')
    .then(res => res.json())
    .then(data => {
      document.getElementById('jsonEditor').value = JSON.stringify(data, null, 2);
    });

  function updateData() {
    const updated = document.getElementById('jsonEditor').value;

    try {
      const parsed = JSON.parse(updated);
      console.log("Valid JSON:", parsed);

      // Optional: send to backend via POST
      // fetch('/save-json', {
      //   method: 'POST',
      //   body: JSON.stringify(parsed),
      //   headers: { 'Content-Type': 'application/json' }
      // })

      alert("JSON is valid and saved!");
    } catch (e) {
      alert("Invalid JSON format.");
    }
  }
</script>
